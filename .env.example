# BGMock Digital Twin - Environment Configuration Template
# Copy this file to .env and adjust values for your environment

# =============================================================================
# SERVICE URLS - Local Development
# =============================================================================
BANK_A_URL=http://localhost:8081
BANK_B_URL=http://localhost:8082
CLEARING_SERVICE_URL=http://localhost:8083

# SERVICE URLS - Docker Compose
# BANK_A_URL=http://bank-a:8080
# BANK_B_URL=http://bank-b:8080
# CLEARING_SERVICE_URL=http://clearing:8080

# SERVICE URLS - Kubernetes
# BANK_A_URL=http://bank-a-service.bgmock.svc.cluster.local:8080
# BANK_B_URL=http://bank-b-service.bgmock.svc.cluster.local:8080
# CLEARING_SERVICE_URL=http://clearing-service.bgmock.svc.cluster.local:8080

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================
# Local Development
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# Docker Compose
# KAFKA_BOOTSTRAP_SERVERS=kafka:9092

# Kubernetes
# KAFKA_BOOTSTRAP_SERVERS=bgmock-kafka-bootstrap.kafka.svc.cluster.local:9092

# Optional: Kafka Security
# KAFKA_SECURITY_PROTOCOL=PLAINTEXT
# KAFKA_SASL_MECHANISM=PLAIN
# KAFKA_SASL_USERNAME=user
# KAFKA_SASL_PASSWORD=password

# =============================================================================
# DATABASE CONFIGURATION - Bank A
# =============================================================================
DB_BANK_A_HOST=localhost
DB_BANK_A_PORT=5432
DB_BANK_A_NAME=bank_a_db
DB_BANK_A_USER=bank_a_user
DB_BANK_A_PASSWORD=bank_a_password
DB_BANK_A_FULL_URL=postgresql://bank_a_user:bank_a_password@localhost:5432/bank_a_db

# =============================================================================
# DATABASE CONFIGURATION - Bank B
# =============================================================================
DB_BANK_B_HOST=localhost
DB_BANK_B_PORT=5433
DB_BANK_B_NAME=bank_b_db
DB_BANK_B_USER=bank_b_user
DB_BANK_B_PASSWORD=bank_b_password
DB_BANK_B_FULL_URL=postgresql://bank_b_user:bank_b_password@localhost:5433/bank_b_db

# =============================================================================
# DATABASE CONFIGURATION - Clearing Service
# =============================================================================
DB_CLEARING_HOST=localhost
DB_CLEARING_PORT=5434
DB_CLEARING_NAME=clearing_db
DB_CLEARING_USER=clearing_user
DB_CLEARING_PASSWORD=clearing_password
DB_CLEARING_FULL_URL=postgresql://clearing_user:clearing_password@localhost:5434/clearing_db

# =============================================================================
# BANK CONFIGURATION
# =============================================================================
# Bank A
BANK_A_CLEARING_NUMBER=000001
BANK_A_NAME=Bank A
BANK_A_CODE=BNKA

# Bank B
BANK_B_CLEARING_NUMBER=000002
BANK_B_NAME=Bank B
BANK_B_CODE=BNKB

# =============================================================================
# SPRING BOOT APPLICATION CONFIGURATION
# =============================================================================
# Server Settings
SERVER_PORT=8080
SERVER_SERVLET_CONTEXT_PATH=/

# JPA/Hibernate Settings
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=false
SPRING_JPA_PROPERTIES_HIBERNATE_GENERATE_STATISTICS=false

# Connection Pool Settings
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=20
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=5
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=20000

# Kafka Settings
SPRING_KAFKA_CONSUMER_GROUP_ID=bgmock-group
SPRING_KAFKA_CONSUMER_AUTO_OFFSET_RESET=earliest
SPRING_KAFKA_CONSUMER_MAX_POLL_RECORDS=500
SPRING_KAFKA_PRODUCER_ACKS=all
SPRING_KAFKA_PRODUCER_RETRIES=3

# =============================================================================
# SIMULATOR CONFIGURATION
# =============================================================================
# Load Testing
SIMULATOR_DEFAULT_TPS=100
SIMULATOR_DEFAULT_DURATION=60
SIMULATOR_MAX_TPS=10000
SIMULATOR_MIN_TPS=1

# Chaos Engineering
CHAOS_ENGINE_ENABLED=true
CHAOS_ENGINE_MAX_DELAY_MS=5000
CHAOS_ENGINE_OUTAGE_DURATION=60

# Transaction Generation
SIMULATOR_TRANSACTION_MIN_AMOUNT=100.00
SIMULATOR_TRANSACTION_MAX_AMOUNT=100000.00
SIMULATOR_TRANSACTION_TIMEOUT_MS=30000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log Levels
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_BANKGOOD=DEBUG
LOGGING_LEVEL_COM_CLEARINGSERVICE=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=INFO
LOGGING_LEVEL_ORG_APACHE_KAFKA=WARN

# Log Output
LOGGING_FILE_NAME=logs/bgmock.log
LOGGING_FILE_MAX_SIZE=10MB
LOGGING_FILE_MAX_HISTORY=10

# =============================================================================
# ACTUATOR / MONITORING (if enabled)
# =============================================================================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,metrics,info
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when-authorized
MANAGEMENT_ENDPOINTS_WEB_BASE_PATH=/actuator

# =============================================================================
# STREAMLIT UI CONFIGURATION
# =============================================================================
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_SERVER_HEADLESS=false
STREAMLIT_CLIENT_THEME_MODE=light
STREAMLIT_LOGGER_LEVEL=info

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Enable detailed error messages
DEBUG=false

# Enable CORS for local development
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# Mock mode (for testing without actual services)
MOCK_MODE=false

# =============================================================================
# PRODUCTION SETTINGS (uncomment for production deployment)
# =============================================================================
# SPRING_PROFILES_ACTIVE=prod
# SPRING_JPA_HIBERNATE_DDL_AUTO=validate
# SPRING_DATASOURCE_CONNECTION_TEST_QUERY=SELECT 1
# MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info
# LOGGING_LEVEL_ROOT=WARN
